{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Win 10\\\\Documents\\\\GitHub\\\\BlogApp\\\\client\\\\src\\\\components\\\\Header.js\",\n  _s = $RefreshSig$();\nimport styles from \"../styles/Header.module.css\";\nimport { Link } from \"react-router-dom\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { UserContext } from \"../contexts/UserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Header = () => {\n  _s();\n  const {\n    userInfo,\n    setUserInfo\n  } = useContext(UserContext);\n  const [showNav, setShowNav] = useState(false);\n  const toggleNav = () => {\n    setShowNav(!showNav);\n  };\n  useEffect(() => {\n    const handleResize = () => {\n      if (window.innerWidth > 768) {\n        setShowNav(false);\n      }\n    };\n    window.addEventListener(\"resize\", handleResize);\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, []);\n  useEffect(() => {\n    try {\n      fetch(\"http://localhost:3001/auth/profile\", {\n        credentials: \"include\"\n      }).then(response => {\n        if (!response.ok) {\n          throw new Error(`Failed to fetch user profile: ${response.status} ${response.statusText}`);\n        }\n        return response.json();\n      }).then(userInfo => {\n        setUserInfo(userInfo);\n      }).catch(error => {\n        console.error(\"Error fetching user profile: \", error.message);\n      });\n    } catch (error) {\n      console.error(\"Error in useEffect:\", error.message);\n    }\n  }, []);\n  function onLogout() {\n    fetch(\"http://localhost:3001/auth/logout\", {\n      credentials: \"include\",\n      method: \"POST\"\n    });\n    setUserInfo(null);\n  }\n  const LoggedIn = userInfo === null || userInfo === void 0 ? void 0 : userInfo.email;\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: styles.fixedHeader,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.headerContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.leftSection,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: styles.homeLink,\n          children: \"Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.rightSection,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.toggleButton,\n          onClick: toggleNav,\n          children: \"\\u2630\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), !showNav && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.navLinks,\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/posts\",\n            className: styles.navLink,\n            children: \"Posts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this), LoggedIn ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/create\",\n              className: styles.navLink,\n              children: \"Create Post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              onClick: onLogout,\n              className: styles.navLink,\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/login\",\n              className: styles.navLink,\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/register\",\n              className: styles.navLink,\n              children: \"Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(Header, \"svD5yg8aRvhPF9Qcl32Nmq7lTo8=\");\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["styles","Link","useContext","useEffect","useState","UserContext","jsxDEV","_jsxDEV","Fragment","_Fragment","Header","_s","userInfo","setUserInfo","showNav","setShowNav","toggleNav","handleResize","window","innerWidth","addEventListener","removeEventListener","fetch","credentials","then","response","ok","Error","status","statusText","json","catch","error","console","message","onLogout","method","LoggedIn","email","className","fixedHeader","children","headerContainer","leftSection","to","homeLink","fileName","_jsxFileName","lineNumber","columnNumber","rightSection","toggleButton","onClick","navLinks","navLink","_c","$RefreshReg$"],"sources":["C:/Users/Win 10/Documents/GitHub/BlogApp/client/src/components/Header.js"],"sourcesContent":["import styles from \"../styles/Header.module.css\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { UserContext } from \"../contexts/UserContext\";\r\n\r\nconst Header = () => {\r\n  const { userInfo, setUserInfo } = useContext(UserContext);\r\n  const [showNav, setShowNav] = useState(false);\r\n\r\n  const toggleNav = () => {\r\n    setShowNav(!showNav);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      if (window.innerWidth > 768) {\r\n        setShowNav(false);\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      fetch(\"http://localhost:3001/auth/profile\", {\r\n        credentials: \"include\",\r\n      })\r\n        .then((response) => {\r\n          if (!response.ok) {\r\n            throw new Error(\r\n              `Failed to fetch user profile: ${response.status} ${response.statusText}`\r\n            );\r\n          }\r\n          return response.json();\r\n        })\r\n        .then((userInfo) => {\r\n          setUserInfo(userInfo);\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error fetching user profile: \", error.message);\r\n        });\r\n    } catch (error) {\r\n      console.error(\"Error in useEffect:\", error.message);\r\n    }\r\n  }, []);\r\n\r\n  function onLogout() {\r\n    fetch(\"http://localhost:3001/auth/logout\", {\r\n      credentials: \"include\",\r\n      method: \"POST\",\r\n    });\r\n\r\n    setUserInfo(null);\r\n  }\r\n\r\n  const LoggedIn = userInfo?.email;\r\n\r\n  return (\r\n    <header className={styles.fixedHeader}>\r\n      <div className={styles.headerContainer}>\r\n        <div className={styles.leftSection}>\r\n          <Link to=\"/\" className={styles.homeLink}>\r\n            Home\r\n          </Link>\r\n        </div>\r\n        <div className={styles.rightSection}>\r\n          <div className={styles.toggleButton} onClick={toggleNav}>\r\n            â˜°\r\n          </div>\r\n          {!showNav && (\r\n            <div className={styles.navLinks}>\r\n              <Link to=\"/posts\" className={styles.navLink}>\r\n                Posts\r\n              </Link>\r\n              {/* <Link to=\"/writers\" className={styles.navLink}>\r\n                Writers\r\n              </Link> */}\r\n              {LoggedIn ? (\r\n                <>\r\n                  <Link to=\"/create\" className={styles.navLink}>\r\n                    Create Post\r\n                  </Link>\r\n                  <a onClick={onLogout} className={styles.navLink}>\r\n                    Logout\r\n                  </a>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Link to=\"/login\" className={styles.navLink}>\r\n                    Login\r\n                  </Link>\r\n                  <Link to=\"/register\" className={styles.navLink}>\r\n                    Register\r\n                  </Link>\r\n                </>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}